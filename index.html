<html>

<style>
    body {
        background-color: cornsilk
    }

    input {
        width: 50%
    }
</style>

<body>
    <pre>
    

        Private Key:<input id="pKey" value="0x0123456789012345678901234567890123456789012345678901234567890123">
        contractAddress:<input id="contractAddress" value="0x0dcd2f752394c41875e259e00bb44fd505297caf">
        wei:<input id="wei" value="1000000000000000000">
        <button onclick="send()">Send</button>
        <div id="send"></div>
            
        <div id="signedMsg"></div>

        
    </pre>
</body>

<script src="https://cdn.ethers.io/scripts/ethers-v3.min.js"></script>
<script>

    function send() {
        const wei = document.getElementById('wei').value
        const contractAddress = document.getElementById('contractAddress').value
        const privateKey = document.getElementById('pKey').value

        const signingKey = new ethers.SigningKey(privateKey);
        const address = signingKey.address
        console.log(address)

        // https://docs.ethers.io/ethers.js/html/api-utils.html?highlight=keccak256
        const h = ethers.utils.solidityKeccak256(['address', 'uint'], [contractAddress, ethers.utils.bigNumberify(wei)]);

        // sign and split message: https://github.com/ethers-io/ethers.js/issues/85
        const { r, s, recoveryParam } = signingKey.signDigest(h);
        const v = 27 + recoveryParam

        document.getElementById('signedMsg').innerHTML = JSON.stringify({ h, v, r, s, contractAddress, wei }, null, 4)

    }

</script>

</html>